(window.webpackJsonp=window.webpackJsonp||[]).push([[18,8,9],{487:function(e,t,o){var content=o(496);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(53).default)("165522ea",content,!0,{sourceMap:!1})},490:function(e,t,o){var content=o(501);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(53).default)("1a57c434",content,!0,{sourceMap:!1})},495:function(e,t,o){"use strict";o(487)},496:function(e,t,o){var n=o(52)((function(i){return i[1]}));n.push([e.i,".imageBox[data-v-5c0d1508]{border:2px dashed #000;width:300px;height:300px}.croppaWrapper[data-v-5c0d1508]{transform:translateX(-50%);left:50%}.croppaWrapper[data-v-5c0d1508],.myflex .croppaWrapper[data-v-5c0d1508]{position:relative;display:inline-block;width:400px;height:300px}.myflex .croppaWrapper[data-v-5c0d1508]{transform:translateX(0);left:0}.buttonupload[data-v-5c0d1508]{display:inline-flex;align-items:center;justify-content:center;position:absolute;right:10px;bottom:10px}.buttonupload span.text[data-v-5c0d1508]{height:24px}.imageSizeInfo[data-v-5c0d1508]{position:absolute;top:-25px;left:50%;transform:translate(-50%);white-space:nowrap}.imageSizeInfo[data-v-5c0d1508],.imageSizeInfo div[data-v-5c0d1508]{display:flex;align-items:center;justify-content:center}.imageSizeInfo .separator[data-v-5c0d1508]{padding:0 5px 0 10px}.imageSizeInfo .height span[data-v-5c0d1508]{font-size:22px}",""]),n.locals={},e.exports=n},497:function(e,t,o){"use strict";o.r(t);var n=o(38),r=o(9),l=o(12),c=(o(73),o(69),o(28),{});c.props={itemId:{type:String,default:""},itemType:{type:String,default:""},itemType2:{type:String,default:"Image"},imgwidth:{type:Number,default:"400"},imgheight:{type:Number,default:"300"},quality:{type:Number,default:3}},c.setup=function(e,t){var o=Object(n.c)(),c=o.$store,d=o.$axios,m=(c.state,e);console.log("props",m),console.log("itemId===============>",m.itemId);var f=Object(r.J)(),v=(Object(r.J)(),Object(r.J)(""),Object(r.J)(!1));return{myCroppa:f,hasimage:v,filechoosen:function(e){console.log("FileChoosen"),v.value=!0},upload:function(e){if(console.log("myCroppa"),console.log(f),f.value.hasImage()){var t=f.value.getChosenFile();console.log(t),console.log(t.name),console.log(t.name),f.value.generateBlob(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(o){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",o,t.name),console.log("HERE"),console.log("itemId===============>",m.itemId),console.log("itemType===============>",m.itemType),console.log("itemType2===============>",m.itemType2),console.log("mypayload createJeu"),console.log(""),console.log("fileinfo.name=",t.name),e.next=11,d.post("http://localhost:1337/api/v1/"+m.itemType+"/"+m.itemId+"/add"+m.itemType2,n).then((function(e){console.log("rep axios",e),200===e.status&&(v.value=!1,f.value.remove())})).catch((function(e,t){console.log("err"),console.log(e),console.log(e.response),v.value=!1,f.value.remove()}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else alert("no image to upload")},onFileTypeMismatch:function(e){alert("Invalid file type. Please choose a jpeg or png file.")},onFileSizeExceed:function(e){alert("File size exceeds. Please choose a file smaller than 100kb.")}}};var d=c,m=(o(495),o(56)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"croppaWrapper"},[o("croppa",{attrs:{width:e.imgwidth,height:e.imgheight,quality:e.quality,placeholder:"Choisir une image",accept:"image/x-png,image/gif,image/jpeg","file-size-limit":0,"zoom-speed":5,"reverse-scroll-to-zoom":!1,"prevent-white-space":!0},on:{"file-type-mismatch":e.onFileTypeMismatch,"file-size-exceed":e.onFileSizeExceed,"file-choose":e.filechoosen},model:{value:e.myCroppa,callback:function(t){e.myCroppa=t},expression:"myCroppa"}}),e._v(" "),e.hasimage?o("b-button",{staticClass:"buttonupload",attrs:{variant:"success",size:"sm"},on:{click:e.upload}},[o("span",{staticClass:"material-icons"},[e._v("\n\t\t\t\tupload_file\n\t\t\t")]),e._v(" "),o("span",[e._v("upload")])]):e._e(),e._v(" "),o("div",{staticClass:"imageSizeInfo"},[o("div",{staticClass:"width"},[o("span",{staticClass:"material-icons",staticStyle:{transform:"rotate(90deg)"}},[e._v("height")]),e._v(" "+e._s(e.imgwidth*e.quality)+" px")]),e._v(" "),o("div",{staticClass:"separator"},[e._v("/")]),e._v(" "),o("div",{staticClass:"height"},[o("span",{staticClass:"material-icons"},[e._v("height")]),e._v(e._s(e.imgheight*e.quality)+" px")])])],1)}),[],!1,null,"5c0d1508",null);t.default=component.exports},500:function(e,t,o){"use strict";o(490)},501:function(e,t,o){var n=o(52)((function(i){return i[1]}));n.push([e.i,".ImageListContainer[data-v-70621532]{min-height:100px;min-width:100px;display:flex;align-items:center;flex-wrap:wrap}.item[data-v-70621532]{position:relative;max-width:25%}.item img[data-v-70621532]{width:100%}.myflex .item[data-v-70621532]{position:relative;max-width:100%}.myflex .item img[data-v-70621532]{width:100%}.myimageBTn[data-v-70621532]{position:absolute;bottom:10px;right:10px;height:25px;width:25px;display:flex;align-items:center;justify-content:center}.myimageBTn span[data-v-70621532]{font-size:16px;height:16px;width:16px;padding:0}",""]),n.locals={},e.exports=n},502:function(e,t,o){"use strict";o.r(t);var n=o(38),r=o(9),l=o(12),c=(o(73),o(28),{});c.props={storeproperty:{type:String,default:""},storename:{type:String,default:""},name:{type:String,default:""},updateStoreAction:{type:String,default:""},deleteStoreAction:{type:String,default:"yeah"}},c.setup=function(e,t){var o=Object(n.c)(),c=o.$store,d=(o.$axios,c.state),m=e,f="toto",v=Object(r.b)({get:function(){return d[m.storename][m.storeproperty][m.name]},set:function(e){console.log("setVal",e)}});console.log("images",v),console.log("IMAGELIST-----------------------------"),console.log("props.deleteStoreAction:",m.deleteStoreAction);var h=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DELETE Image TOTO"),console.log("props.deleteStoreAction==",m.deleteStoreAction),console.log("idToRemove",f),console.log(f),e.next=6,c.dispatch(m.storename+"/"+m.deleteStoreAction,{id:f}).then(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("AFTER REMOVE");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{images:v,setToRemoveId:function(e){console.log("SETIDTOREMOVE==>",e),f=e},modalConfirmed:h}};var d=c,m=(o(500),o(56)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRemove","header-bg-variant":"danger","header-text-variant":"white",centered:"",size:"sm",title:"Êtes vous sûre?","ok-title":"Oui. Je suis sûre","ok-variant":"success","cancel-title":"Annuler","cancel-variant":"danger"},on:{ok:e.modalConfirmed}},[o("p",{staticStyle:{"text-align":"center","margin-bottom":"0px"}},[e._v("Supprimer définitivement "),o("br"),e._v(" l'image ?")])]),e._v(" "),o("div",{staticClass:"ImageListContainer"},e._l(e.images,(function(image){return o("div",{key:image.id,staticClass:"item"},[o("img",{attrs:{src:e.$config.apiURL+"image/"+image.filename,alt:""}}),e._v(" "),o("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modalRemove",modifiers:{modalRemove:!0}}],staticClass:" myimageBTn btn-danger btn-sm",on:{click:function(t){return e.setToRemoveId(image.id)}}},[o("span",{staticClass:"material-icons"},[e._v("\n\t\t\t\tdelete\n\t\t\t")])])],1)})),0)],1)}),[],!1,null,"70621532",null);t.default=component.exports},512:function(e,t,o){var content=o(538);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(53).default)("09917027",content,!0,{sourceMap:!1})},537:function(e,t,o){"use strict";o(512)},538:function(e,t,o){var n=o(52)((function(i){return i[1]}));n.push([e.i,".imageBox[data-v-b3eb6724]{border:2px dashed #000;width:300px;height:300px}",""]),n.locals={},e.exports=n},583:function(e,t,o){"use strict";o.r(t);var n=o(38),r=o(9),l={setup:function(e,t){var o=Object(n.c)().$store.state;Object(r.J)(),Object(r.J)("");return{state:o}}},c=l,d=(o(537),o(56)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"masonryBlock"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("h4",{staticClass:"card-title"},[e._v("Images")]),e._v(" "),o("ImageCroper",{attrs:{itemId:e.state.jeux.currentJeu.id,itemType:"jeu",imgwidth:400,imgheight:300,quality:5}}),e._v(" "),o("ImageList",{attrs:{storeproperty:"currentJeu",storename:"jeux",name:"images",updateStoreAction:""}})],1)])])}),[],!1,null,"b3eb6724",null);t.default=component.exports;installComponents(component,{ImageCroper:o(497).default,ImageList:o(502).default})}}]);